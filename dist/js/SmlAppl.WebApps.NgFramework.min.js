!function(){"use strict";angular.module("smlAppl.webApps.framework.controllers",[]),angular.module("smlAppl.webApps.framework.directives",[]),angular.module("smlAppl.webApps.framework.filters",[]),angular.module("smlAppl.webApps.framework.services",[]),angular.module("smlAppl.webApps.framework",["smlAppl.webApps.framework.controllers","smlAppl.webApps.framework.directives","smlAppl.webApps.framework.filters","smlAppl.webApps.framework.services","smlAppl.webApps.framework.filterTable","ngNotify"])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.filterTable.controllers",[]),angular.module("smlAppl.webApps.framework.filterTable.directives",[]),angular.module("smlAppl.webApps.framework.filterTable",["smlAppl.webApps.framework.filterTable.controllers","smlAppl.webApps.framework.filterTable.directives"])}(),function(){"use strict";function a(){return{uriBaseViews:"wwwroot/Views/",uriFilterTableViews:"wwwroot/FilterTable/Views/",uriFwBaseApi:"apiFw/v01/"}}angular.module("smlAppl.webApps.framework").constant("appConfigFw",a())}(),angular.module("smlAppl.webApps.framework").run(["$templateCache",function(a){"use strict";a.put("wwwroot/Views/PopupDatepicker.tpl.html",'<div class="input-group">\r\n	<input type="text" id="datepicker" name="datepicker" class="form-control" uib-datepicker-popup="dd.MM.yyyy" ng-model="data" is-open="states.opened" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" ng-required="required" close-text="Close" />\r\n	<span class="input-group-btn">\r\n		<button type="button" class="btn btn-default" ng-click="openCal($event)"><i class="glyphicon glyphicon-calendar"></i></button>\r\n	</span>\r\n</div>')}]),function(){"use strict";angular.module("smlAppl.webApps.framework.directives").directive("displayEmployee",["HttpHandler","Employee",function(a,b){return{restrict:"E",require:"?ngModel",scope:{placeholder:"="},template:"{{ item.FirstName }} {{ item.LastName }} ({{ item.Pid }})",link:function(c,d,e,f){var g=f;c.item={},g.$render=function(){g.$viewValue&&b.getById(g.$viewValue).then(function(a){c.item=a},a.handleGetErrorWithNotify)}}}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.directives").directive("elastic",["$timeout",function(a){return{restrict:"A",link:function(b,c){c[0].style.overflowY="hidden",b.initialHeight=30,b.initialHeight=b.initialHeight||c[0].style.height;var d=function(){c[0].style.height=b.initialHeight;var a=c[0].scrollHeight;0===a&&(a=30),c[0].style.height=""+a+"px"};c.on("input change",d),a(d,0)}}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.directives").directive("popupDatepicker",["appConfigFw",function(a){return{restrict:"E",scope:{data:"=ngModel"},templateUrl:a.uriBaseViews+"PopupDatepicker.tpl.html",link:function(a,b,c){a.required=c["ng-required"],a.states={opened:!1,showValidation:!1},a.dateOptions={startingDay:1},a.openCal=function(b){a.states.opened=!0}}}}])}(),angular.module("smlAppl.webApps.framework.filterTable").run(["$templateCache",function(a){"use strict";a.put("wwwroot/FilterTable/Views/FilterTable.html",'<div ng-switch="filterTable.Status" class="filtertable-container">\r\n    <div class="row">\r\n        <div ng-switch-when="Loading" class="col-md-12" style="text-align: center;">\r\n            <span>Loading <img src="Content/images/loader-horizontal.gif" /></span>\r\n        </div>\r\n        <div ng-switch-when="Error" class="col-md-12" style="text-align: center;">\r\n            <span>Fehler beim Beziehen der Daten.</span>\r\n        </div>\r\n\r\n    </div>\r\n    <div class="row" ng-switch-when="Structure">\r\n        <div class="col-md-12">\r\n            <div style="overflow: auto;">\r\n                <table class="table table-bordered table-condensed table-responsive table-striped table-hover filtertable-table">\r\n                    <thead class="filtertable-table-header">\r\n                        <tr>\r\n                            <th>\r\n                                <span type="button" class="btn btn-default btn-sm" ng-click="open()" ng-show="filterTable.CanCustomize"><span class="glyphicon glyphicon-cog"></span></span>\r\n                            </th>\r\n                            <th ng-repeat="col in filterTable.VisibleCols" style="padding-left: 10px; padding-right: 40px; vertical-align: middle; cursor: pointer;" ng-click="filterTable.UpdateOrderBy(col, $event)">\r\n                                <span class="pull-left">{{::col.Display}}</span>\r\n                                <span style="margin-right: -30px; opacity: 0.5;" class="pull-right {{col.OrderIndicator}}"></span>\r\n                            </th>\r\n                        </tr>\r\n                        <tr ng-show="filterTable.SearchActive">\r\n                            <th>\r\n                                <span type="button" class="btn btn-default btn-sm" ng-click="filterTable.ClearFilter()"><span class="glyphicon glyphicon-remove"></span></span>\r\n                            </th>\r\n                            <th ng-repeat="col in filterTable.VisibleCols" ng-switch="col.HasDistincts">\r\n                                <select ng-switch-when="true" class="select2" name="filterTable.TableFilter[col.Key]" ng-model="filterTable.TableFilter[col.Key]">\r\n                                    <option ng-repeat="item in col.Distincts">{{::item}}</option>\r\n                                </select>\r\n                                <input ng-switch-when="false" type="text" name="filterTable.TableFilter[col.Key]" ng-model="filterTable.TableFilter[col.Key]" ng-model-options="ModelOptions" />\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody class="filtertable-table-body" ng-if="filterTable.VisibleCols.length > 0">\r\n                        <tr ng-repeat="item in filterTable.DataDisplayed">\r\n                            <td class="text-center" ng-class="::{\'filtertable-cell-clickable\' : filterTable.ActionCol.HasClickAction}" ng-click="filterTable.ExecuteClickAction(filterTable.ActionCol, item)">\r\n                                <span ng-bind-html="::item[filterTable.ActionCol.Key]"></span>\r\n                            </td>\r\n                            <td ng-repeat="col in filterTable.VisibleCols" ng-class="::{\'filtertable-cell-clickable\' : col.HasClickAction}" ng-click="filterTable.ExecuteClickAction(col, item)">\r\n                                <span ng-bind-html="::item[col.Key]"></span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tfoot class="filtertable-table-footer">\r\n                        <tr ng-if="filterTable.Loading">\r\n                            <td colspan="100%" class="none" style="text-align: center;">Loading <img src="Content/images/loader-horizontal.gif" /></td>\r\n                        </tr>\r\n                        <tr ng-if="filterTable.ShowNoDataMsg">\r\n                            <td colspan="100%" class="warning" style="text-align: center;">Keine Daten gefunden.</td>\r\n                        </tr>\r\n                        <tr ng-if="filterTable.ShowDataFilteredOutMsg">\r\n                            <td colspan="100%" class="warning" style="text-align: center;">Filter enthält keine Daten.</td>\r\n                        </tr>\r\n                    </tfoot>\r\n                </table>\r\n            </div>\r\n            <div class="row filtertable-footer">\r\n                <div class="col-md-12" ng-if="!filterTable.Loading && filterTable.HasData">\r\n                    <div class="pull-right">\r\n                        <button class="btn btn-default" style="float: left;" ng-click="filterTable.CurrentPage = 1" ng-disabled="filterTable.BackwardDisabled"><i class="fa fa-fast-backward"></i></button>\r\n                        <button class="btn btn-default" style="float: left;" ng-click="filterTable.CurrentPage = (filterTable.CurrentPage - 1)" ng-disabled="filterTable.BackwardDisabled"><i class="fa fa-step-backward"></i></button>\r\n                        <div style="float: left; text-align: right;">\r\n                            <select ng-model="filterTable.CurrentPage"\r\n                                    ng-options="item as item for item in filterTable.FilterPageArray"></select>\r\n                            Seite {{ filterTable.CurrentPage }} von {{ filterTable.FilterDataPageCount }} ({{filterTable.PassedDataPageCount}} Total)\r\n                        </div>\r\n                        <button class="btn btn-default" style="float: right;" ng-click="filterTable.CurrentPage = filterTable.FilterDataPageCount" ng-disabled="filterTable.ForwardDisabled"><i class="fa fa-fast-forward"></i></button>\r\n                        <button class="btn btn-default" style="float: right;" ng-click="filterTable.CurrentPage = (filterTable.CurrentPage + 1)" ng-disabled="filterTable.ForwardDisabled"><i class="fa fa-step-forward"></i></button>\r\n                    </div>\r\n                    <div style="float: left;">Datensätze: {{filterTable.DataFiltered.length}} von {{filterTable.PassedData.length}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),a.put("wwwroot/FilterTable/Views/FilterTableOptions.html",'<div class="modal-header">\r\n    <h3 class="modal-title">Einstellungen</h3>\r\n</div>\r\n<div class="modal-body">\r\n    <uib-tabset>\r\n        <uib-tab heading="Spalten" ng-if="FilterTable.CanSelectCols">\r\n            <table class="table table-bordered table-condensed table-responsive table-striped table-hover">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Sichtbar</th>\r\n                        <th>Dropdown</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <input name="theColFilter.Display" ng-model="theColFilter.Display" placeholder="Name" />\r\n                        </td>\r\n                        <td>\r\n                            <input type="checkbox" ng-model="visible.all" ng-change="ChangeVisible(visible.all)" /> Alle\r\n                        </td>\r\n                        <td></td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat="col in FilterTable.CurrentCols | filter: theColFilter">\r\n                        <td>{{::col.Display}}</td>\r\n                        <td><input type="checkbox" ng-model="col.Visible" /></td>\r\n                        <td ng-switch="FilterTable.NoSearchSelects">\r\n                            <input ng-switch-when="true" type="checkbox" ng-model="noSelect" ng-disabled="true" />\r\n                            <input ng-switch-when="false" type="checkbox" ng-model="col.BuildSelect" ng-disabled="!col.CanBuildSelect" />\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </uib-tab>\r\n        <uib-tab heading="Tabelle" ng-if="true">\r\n            <table class="table table-bordered table-condensed table-responsive table-striped table-hover">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Setting</th>\r\n                        <th>Wert</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Suche aktiv</td>\r\n                        <td><input type="checkbox" ng-model="FilterTable.SearchActive" /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Keine Dropdowns</td>\r\n                        <td><input type="checkbox" ng-model="FilterTable.NoSearchSelects" /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Dropdowns einschränken</td>\r\n                        <td><input type="checkbox" ng-model="FilterTable.ReduceSelects" /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Datensätze pro Seite</td>\r\n                        <td><input type="number" ng-model="FilterTable.PageSize" ng-model-options="ModelOptions" /></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </uib-tab>\r\n    </uib-tabset>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>\r\n    <!--<button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>-->\r\n</div>\r\n\r\n')}]),function(){"use strict";angular.module("smlAppl.webApps.framework.filterTable.controllers").controller("FilterTableModalInstanceCtrl",function(a,b,c,d){a.Options=d,a.visible={},a.visible.all=a.Options.CurrentCols.length===a.Options.CurrentCols.filter(function(a,b,c){return a.visible}).length,a.theColFilter={},a.ModelOptions={debounce:{"default":500,blur:0}},a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")},a.ChangeVisible=function(b){for(var d=a.Options.CurrentCols.filter(function(a,c,d){return a.visible!==b}),e=c("filter")(d,a.theColFilter),f=0;f<e.length;f++)e[f].visible=b},a.ChangeDropDown=function(b){b.select&&a.Options.buildDistinctsFor(b)}})}(),function(){"use strict";angular.module("smlAppl.webApps.framework.filterTable.directives").factory("filterTableConstructor",function(a,b,c){function d(){this._key=null,this._ignore=!1,this._visible=!1,this._display=void 0,this._canBuildSelect=!0,this._buildSelect=!1,this.orderAsc=void 0,this._distincts=null,this._distinctsReduced=null,this.Filter=void 0,this.ValueFunction=null,this.ClickAction=null,this.ActionCol=!1,this.GetFilterTable=function(){return null},this.AlternateSortCol=null,this._calculateColumn=null,this._applyFilter=null}function e(a,b,c){var d={enumerable:!0,configurable:!0};Object.defineProperty(Object.getPrototypeOf(a),b,angular.extend(d,c))}function f(){this._loading=!0,this._error=!1,e(this,"test1",{get:function(){return"foo"},set:function(a){}}),this._loadTimeout={},this.OptionsProvided=!1,this.StructureSet=!1,this._columns=[],this._data=[],this._dataCalc=[],this._dataCounter=0,this._hasData=!1,this.DataFiltered=[],this.DataDisplayed=[],this._currentPage=1,this._filterPageCount=0,this._currentCols=[],this._visibleCols=[],this.OrderByCols=[],this.Status="Loading",this._actionCol=null,this.Initialised=!1}function g(){for(var a=0;a<arguments.length;a++)if(angular.isDefined(arguments[a]))return arguments[a]}function h(a,b){return(a||[]).indexOf(b)>-1?!0:void 0}function i(a,b){var c=b||{};if(Object.getPrototypeOf(a)===d.prototype)return a;var e=new d;e.Key=g(a.key,a.Key,null),e.ActionCol=g(a.actionCol,a.ActionCol,!1),e.ValueFunction=g(a.valueFunction,a.ValueFunction,null),e.ClickAction=g(a.clickAction,a.ClickAction,null),e.Ignore=g(h(c.IgnoreColumns,e.Key),a.ignore,a.Ignore,!1),e.Visible=g(a.visible,a.Visible,!1),e.Display=g(a.display,a.Display),e.CanBuildSelect=g(c.NoSearchSelects===!0?!1:void 0,h(c.NoSelectsOnColumns,e.Key),a.canSelect,a.CanBuildSelect,!0),e.BuildSelect=g(h(c.SelectsOnColumns,e.Key),a.select,a.BuildSelect,!1),e.orderAsc=g(h(c.Order,e.Key),a.orderAsc||a.orderAsc),e.Filter=g(a.filter,a.Filter),e.AlternateSortCol=g(a.alternateSortCol,a.AlternateSortCol||null);var f=g(a.isDate,a.IsDate,!1);return f&&null===e.AlternateSortCol&&(e.AlternateSortCol=e.Key+"_Order_Col"),null==e.Key?(console.log("invalid item - missing 'key':"),console.log(a),null):(c=b||null,e.GetFilterTable=function(){return c},angular.isDefined(e.orderAsc)&&null!==c&&c.AddOrderBy(e,!1),e)}return d.prototype={get Key(){return this._key},set Key(a){null!==(a||null)&&(this._key=a,angular.isUndefined(this._display)&&(this._display=this._key))},get Display(){return angular.isUndefined(this._display)&&(this._display=this._display||this.Key),this._display},set Display(a){null!==(a||null)&&(this._display=a)},CallOnFilterTable:function(a){var b={called:!1,result:void 0},c=this.GetFilterTable();return null!=c&&(b.called=!0,b.result=a.call(c,c,this)),b},_updateColumns:function(a){a.UpdateColumnLists(a.Columns)},UpdateColumns:function(){this.CallOnFilterTable(this._updateColumns)},get Visible(){return this.Ignore?!1:this._visible},set Visible(a){angular.isUndefined(a)||null===a||(this._ignore?this._visible=!1:this._visible=a,this.UpdateColumns())},get Ignore(){return this._ignore},set Ignore(a){angular.isUndefined(a)||null===a||(this._ignore=a,this._ignore&&(this._visible=!1),this.UpdateColumns())},get BuildSelect(){return this.CanBuildSelect?this._buildSelect:!1},set BuildSelect(a){if(!angular.isUndefined(a)&&null!==a){var b=this._buildSelect;this.CanBuildSelect?this._buildSelect=a:this._buildSelect=!1,this._buildSelect!==b&&this.ResetDistincts()}},ResetDistincts:function(){this._distincts=null},_buildDistincts:function(a,b){return a.CreateDistincts(b)},BuildDistincts:function(){var a=this.CallOnFilterTable(this._buildDistincts);return a.called?a.result:null},get Distincts(){return this.BuildSelect?(null==this._distincts&&(this._distincts=this.BuildDistincts()),this._distincts):null},get HasDistincts(){return(this.Distincts||[]).length>0},_canBuildFromTable:function(a){return a.NoSearchSelects},get CanBuildFromTable(){var a=this.CallOnFilterTable(this._canBuildFromTable);return a.called?!a.result:!0},get CanBuildSelect(){return this.CanBuildFromTable&&this._canBuildSelect},set CanBuildSelect(a){angular.isUndefined(a)||null===a||(this._canBuildSelect=a,this._canBuildSelect||(this._buildSelect=!1))},get OrderBy(){if(angular.isDefined(this.orderAsc)){var a=null!==(this.AlternateSortCol||null)?this.AlternateSortCol:this.Key;return(this.orderAsc===!0?"":"-")+"'"+a+"'"}return null},get IsSorted(){return angular.isDefined(this.orderAsc)},get OrderIndicator(){return this.IsSorted?this.orderAsc?"glyphicon glyphicon-sort-by-alphabet":"glyphicon glyphicon-sort-by-alphabet-alt":"glyphicon glyphicon-sort"},get CalculateColumn(){return null==this._calculateColumn&&(this._calculateColumn=angular.isDefined(this.ValueFunction)&&angular.isFunction(this.ValueFunction)&&null!==this.ValueFunction),this._calculateColumn},get ApplyFilter(){return null==this._applyFilter&&(this._applyFilter=angular.isDefined(this.Filter)),this._applyFilter},GetValue:function(a){return this.CalculateColumn?this.ValueFunction.call(this,a):this.ActionCol?"":this.ApplyFilter?c("item[col.Key] | "+this.Filter)(this,{item:a,col:this}):a[this.Key]},get HasClickAction(){return angular.isDefined(this.ClickAction)&&angular.isFunction(this.ClickAction)&&null!==this.ClickAction},Clicked:function(a){this.HasClickAction&&this.ClickAction.call(this,a,this)}},f.prototype={CreateDistincts:function(b){if(b.BuildSelect){for(var c={},d=[""],e=(this.ReduceSelects?this.DataFiltered:this.PassedData).map(function(a){return a[b.Key]}),f=0;f<e.length;f++){var g=e[f]||null;null!==g&&angular.isUndefined(c[g])&&(c[g]="",d.push(g.toString()))}return d=a("orderBy")(d)}return null},get PassedData(){return this._dataCalc},RecalculateData:function(){this.UpdateData(this.PassedData,!1)},set PassedData(a){this.UpdateData(a,!1)},UpdateData:function(a,c){c=c||!1;var d=this;if(c)d._dataCalc=this.GetOrdered(d._dataCalc);else{d._data=a,d.CheckColumnsDefs(d._data);for(var e=[],f=this.Columns.filter(function(a,b,c){return!a.Ignore}),g=0;g<d._data.length;g++){for(var h=d._data[g],i={},j=0;j<f.length;j++){var k=f[j],l=h[k.Key];i[k.Key]=k.GetValue(h),null!==k.AlternateSortCol&&(h.hasOwnProperty(k.AlternateSortCol)?i[k.AlternateSortCol]=h[k.AlternateSortCol]:i[k.AlternateSortCol]=l)}e.push(i)}d._dataCalc=this.GetOrdered(e),d.ResetDistincts(!0)}d._hasData=d._dataCalc.length>0,d.UpdateFilter(),b.cancel(d._loadTimeout),d._hasData?d.Loading=!1:d._loadTimeout=b(function(){d.Loading=!1,d.Error=!d._hasData&&!d.InitialEmpty&&!d.OptionsProvided},1e4)},GetOrdered:function(b){return a("orderBy")(b,this.OrderBy)},get CurrentPage(){return this._currentPage},set CurrentPage(a){this._currentPage=a,this.UpdateDisplayData()},get PageSizeCalc(){return angular.isDefined(this.PageSize)&&angular.isNumber(this.PageSize)?Math.ceil(this.PageSize,1):10},UpdateDisplayData:function(){var a=(this.CurrentPage-1)*this.PageSizeCalc;a>this.DataFiltered.length?this.DataDisplayed=[]:this.DataDisplayed=this.DataFiltered.slice(a,a+this.PageSizeCalc)},get BackwardDisabled(){return this.CurrentPage<=1},get PassedDataPageCount(){return Math.ceil(this.PassedData.length/this.PageSizeCalc)},get FilterDataPageCount(){return Math.ceil(this.DataFiltered.length/this.PageSizeCalc)},get FilterPageArray(){for(var a=[],b=1;b<=this.FilterDataPageCount;b++)a.push(b);return a},get ForwardDisabled(){return this.CurrentPage>=this.FilterDataPageCount},get HasData(){return this._hasData},get ShowNoDataMsg(){return!this.Loading&&!this.HasData&&!this.InitialEmpty},get ShowDataFilteredOutMsg(){return!this.Loading&&this.HasData&&0===this.DataFiltered.length},get OrderBy(){for(var a=[],b=0;b<this.OrderByCols.length;b++){var c=this.OrderByCols[b],d=c.OrderBy;null!=d&&a.push(d)}return a},set OrderBy(a){if(null===(a||null))this.ClearOrderBy(),this.UpdateData(this.PassedData,!0);else if(Object.getPrototypeOf(a)===d.prototype){var b=!a.orderAsc;this.ClearOrderBy(),a.orderAsc=b,this.AddOrderBy(a)}},UpdateOrderBy:function(a,b){var c=!b.ctrlKey||0===this.OrderByCols.length||null===(a||null)||0===this.OrderByCols.length||Object.getPrototypeOf(a)!==d.prototype;if(c)this.OrderBy=a;else{var e=!a.orderAsc;a.orderAsc=e,this.AddOrderBy(a)}},AddOrderBy:function(a,b){var c=this.OrderByCols.filter(function(b,c,d){return b.Key===a.Key});0===c.length&&this.OrderByCols.push(a),(angular.isUndefined(b)||b===!0)&&this.UpdateData(this.PassedData,!0)},ClearOrderBy:function(){for(var a=0;a<this.OrderByCols.length;a++)this.OrderByCols[a].orderAsc=void 0;this.OrderByCols.length=0},ColByKey:function(a){var b=this.Columns.filter(function(b,c,d){return b.Key===a});return 1===b.length?b[0]:null},CheckColumnsDefs:function(a){if(!this.OptionsProvided){this.StructureSet=!1;var b=a||[],c=[];if(b.length>0){var d=b[0];for(var e in d)d.hasOwnProperty(e)&&"$$hashKey"!==e&&c.push({Key:e});c.length>0&&(this.Columns=this.UpdateColumnsDefs(c))}}return a},UpdateColumnsDefs:function(a){for(var b=a||[],c=[],d=!1,e=0;e<b.length;e++){var f=b[e],g=this.ColByKey(f.Key),h=null==g?i(f,this):g;d=d||g!==h,null!==h&&c.push(h)}return d=d||b.length!==c.length||c.length!==this.Columns.length,this.StructureSet=c.length>0,d||(c=this.Columns),this.UpdateColumnLists(c),this.UpdateStatus(),c},UpdateColumnLists:function(a){this._currentCols=a.filter(function(a,b,c){return!a.Ignore&&!a.ActionCol}),this._visibleCols=this._currentCols.filter(function(a,b,c){return a.Visible}),this.InitFilter()},get CurrentCols(){return this._currentCols},get VisibleCols(){return this._visibleCols},ChangeColValue:function(a,b,c){for(var d=angular.isDefined(a)?angular.isArray(a)?a:[a]:[],e=0;e<d.length;e++){var f=this.ColByKey(d[e])||null;null!==f&&(f[b]=c)}},get Loading(){return this._loading},set Loading(a){this._loading=a,this.UpdateStatus()},set Error(a){this._error=a,this.UpdateStatus()},UpdateStatus:function(){return this._error?void(this.Status="Error"):this.StructureSet?void(this.Status="Structure"):this._loading?void(this.Status="Loading"):void(this.Status="undefined")},InitFilter:function(){function a(a){Object.defineProperty(e,a,{get:function(){return e.backingfields[a]},set:function(d){e.backingfields[a]=d,b.cancel(e.delayFilter),e.delayFilter=b(function(){c.UpdateFilter()},200)}})}for(var c=this,d=c.TableFilter,e={delayFilter:{},backingfields:{}},f=0;f<this.CurrentCols.length;f++){var g=this.CurrentCols[f],h=d[g.Key],i=g.Key;a(i),e.backingfields[i]=h}this.TableFilter=e},ClearFilter:function(){for(var a=0;a<this.VisibleCols.length;a++){var b=this.VisibleCols[a];this.TableFilter[b.Key]=null}},CleanTableFilter:function(a){var b=angular.copy(a||{});for(var c in b)b.hasOwnProperty(c)&&(null===(b[c]||null)||""===b[c])&&delete b[c];return b},UpdateFilter:function(){this.DataFiltered=a("filter")(this._dataCalc,this.CleanTableFilter(this.TableFilter.backingfields)),this.ResetDistincts(this.ReduceSelects),this.CurrentPage=1},ResetDistincts:function(a){if(a)for(var b=0;b<this.Columns.length;b++){var c=this.Columns[b];Object.getPrototypeOf(c)===d.prototype&&c.ResetDistincts()}},get ActionCol(){if(null==this._actionCol){var a=this.Columns.filter(function(a,b,c){return a.ActionCol});1===a.length?this._actionCol=a[0]:this._actionCol=i({Key:"theEmptyActionCol",ValueFunction:function(a){return""}})}return this._actionCol},set ActionCol(a){this._actionCol=a},ExecuteClickAction:function(a,b){a.HasClickAction&&a.Clicked(b)}},f}).directive("filterTable",function(a,b,c,d,e,f){return{restrict:"E",scope:{inData:"=items",inOptions:"=?options",inColumns:"=?columns",inCanCustomize:"=?canCustomize",inCanSelectCols:"=?canSelectCols",inSearchActive:"=?searchActive",inNoSearchSelects:"=?noSearchSelects",inReduceSelects:"=?reduceSelects",inOrder:"=?order",inPageSize:"=?pageSize",inSelectsOnColumns:"=?selectsOnColumns",inNoSelectsOnColumns:"=?noSelectsOnColumns",inIgnoreColumns:"=?ignoreColumns",inInitialEmpty:"=?initialEmpty"},templateUrl:"wwwroot/FilterTable/Views/FilterTable.html",link:function(a,c,d){function e(b,c,d){function e(a,b,c){return c=c||0,null===(a||null)?{scope:null,lvl:c}:a.hasOwnProperty(b)?{scope:a,lvl:c}:e(a.$parent,b,c+1)}var f=angular.isDefined(d.value)?d.value:null,g=f;d.force!==!0&&(angular.isDefined(a["in"+c])?g=a["in"+c]:angular.isDefined(a.inOptions)&&angular.isDefined(a.inOptions[c])&&(g=a.inOptions[c])),angular.isUndefined(b.backingFields)&&(b.backingFields={}),angular.isUndefined(b.watchers)&&(b.watchers={}),angular.isUndefined(b.backingFields[c])&&(b.backingFields[c]=g),Object.defineProperty(b,c,{get:function(){return b.backingFields[c]},set:function(e){var f=angular.isDefined(d.changeFunc)?d.changeFunc.call(d.callOn||b,e):e;if(!angular.equals(b.backingFields[c],f)){var g=b.backingFields[c];b.backingFields[c]=f,angular.isDefined(d.afterChangeFunc)&&d.afterChangeFunc.call(d.callOn||b,e,g)}angular.isObject(f)&&angular.isDefined(d.afterChangeFunc)&&angular.isUndefined(b.watchers[c])&&(b.watchers[c]=a.$watch(function(){return b.backingFields[c]},function(a,c){d.afterChangeFunc.call(d.callOn||b,a,c)},!0)),d.syncOut&&(angular.equals(a["in"+c],f)||(a["in"+c]=f),angular.isDefined(a.inOptions)&&(angular.equals(a.inOptions[c],f)||(a.inOptions[c]=f)))},enumerable:!0,configurable:!0}),angular.isDefined(a.inOptions)&&Object.defineProperty(a.inOptions,c,{get:function(){return b[c]},set:function(a){b[c]=a},enumerable:!0,configurable:!0});e(a,"allInfos");(angular.isDefined(a["in"+c])||d.force===!0)&&Object.defineProperty(a,"in"+c,{get:function(){return b[c]},set:function(a){b[c]=a},enumerable:!0,configurable:!0}),b[c]=b[c]}function g(b){for(var c in b)b.hasOwnProperty(c)&&e(a.filterTable,c,b[c])}function h(b){return angular.isDefined(b)&&angular.isNumber(b)&&b>0?b:a.filterTable.PageSize}function i(){var b={CanCustomize:{syncIn:!0,syncOut:!0,value:!0},CanSelectCols:{syncIn:!0,syncOut:!0,value:!0},SearchActive:{syncIn:!0,syncOut:!0,value:!0},NoSearchSelects:{syncIn:!0,syncOut:!0,value:!1,afterChangeFunc:function(b){b&&a.filterTable.ResetDistincts(!0)}},ReduceSelects:{syncIn:!0,syncOut:!0,value:!1,afterChangeFunc:function(){a.filterTable.ResetDistincts(!0)}},Order:{syncIn:!0,syncOut:!0,value:[],changeFunc:function(a){return angular.isDefined(a)?angular.isArray(a)?a:[a]:[]}},PageSize:{syncIn:!0,syncOut:!0,value:15,changeFunc:h,afterChangeFunc:function(){a.filterTable.CurrentPage=1}},SelectsOnColumns:{syncIn:!0,syncOut:!0,value:[]},NoSelectsOnColumns:{syncIn:!0,syncOut:!0,value:[]},IgnoreColumns:{syncIn:!0,syncOut:!0,value:[]},TableFilter:{syncIn:!0,syncOut:!0,value:{}},InitialEmpty:{syncIn:!0,syncOut:!0,value:!1},Columns:{syncIn:!0,syncOut:!0,value:[],changeFunc:a.filterTable.UpdateColumnsDefs},Data:{syncIn:!0,syncOut:!1,value:[],afterChangeFunc:function(b){a.filterTable.PassedData=b}}};g(b),a.filterTable.OptionsProvided=a.filterTable.Columns.length>0,a.filterTable.Initialised=!0}a.ModelOptions={debounce:{"default":500,blur:0}},a.filterTable=new f,i(),a.animationsEnabled=!0,a.open=function(c){var d=b.open({animation:a.animationsEnabled,templateUrl:"wwwroot/FilterTable/Views/FilterTableOptions.html",controller:"FilterTableOptionsCtrl",size:c,resolve:{filterTable:function(){return a.filterTable}}});d.result.then(function(){},function(){})}}}})}(),function(){"use strict";angular.module("smlAppl.webApps.framework.filterTable.directives").controller("FilterTableOptionsCtrl",function(a,b,c,d){function e(){var b=c("filter")(a.FilterTable.CurrentCols,a.theColFilter),d=b.length===b.filter(function(a,b,c){return a.Visible}).length,e=b.length===b.filter(function(a,b,c){return!a.Visible}).length;a.visible.all=d?!0:e?!1:void 0}a.FilterTable=d,a.visible={},a.theColFilter={},a.visible.all=void 0,a.noSelect=!1,a.$watch("theColFilter",function(a,b){e()},!0),a.$watch("FilterTable.CurrentCols",function(a,b){e()},!0),a.ModelOptions={debounce:{"default":500,blur:0}},a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")},a.ChangeVisible=function(b){for(var d=a.FilterTable.CurrentCols.filter(function(a,c,d){return a.Visible!==b}),f=c("filter")(d,a.theColFilter),g=0;g<f.length;g++)f[g].Visible=b;e()}})}(),function(){"use strict";angular.module("smlAppl.webApps.framework.filters").filter("chDate",["$filter",function(a){var b=a("date");return function(a){return b(a,"dd.MM.yyyy")}}]).filter("chDateTime",["$filter",function(a){var b=a("date");return function(a){return b(a,"dd.MM.yyyy HH:mm:ss")}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.filters").filter("decimal",["$filter",function(a){var b=a("number");return function(a,c){return c&&angular.isNumber(c)||(c=0),b(a,c)}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.services").service("Employee",["$http","appConfigFw","HttpHandler",function(a,b,c){var d=b.uriFwBaseApi+"Employees/";this.getAll=function(){var b=a.get(d);return b.then(c.handleSuccess,c.handleGetErrorWithNotify)},this.getById=function(b){var e=a.get(d+b);return e.then(c.handleSuccess,c.handleGetErrorWithNotify)},this.getByFilter=function(b){var e={filter:b},f=a.get(d+"GetByFilter",{params:e});return f.then(c.handleSuccess,c.handleGetErrorWithNotify)}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.services").service("HttpHandler",["$q","Notify",function(a,b){var c=this;this.handleError=function(b){return console.log(b),angular.isObject(b.data)||b.statusText||(b.statusText="An unknown error occurred."),a.reject(b)},this.handleGetErrorWithNotify=function(a){var d=c.handleError(a);b.alertGetError(d)},this.handleSaveErrorWithNotify=function(a){var d=c.handleError(a);b.alertSaveError(d)},this.handleSuccess=function(a){return a.data}}])}(),function(){"use strict";angular.module("smlAppl.webApps.framework.services").service("Notify",["ngNotify","$filter",function(a,b){function c(a){d(a,"error")}function d(c,d){c=b("translate")(c),a.set(c,d)}this.alertInfo=function(a){d(a,"info")},this.alertSuccess=function(a){d(a,"success")},this.alertError=function(a){c(a)},this.alertGetError=function(a){var b=a.statusText;b||(b="Message_DataGet_Error"),c(b)},this.alertSaveError=function(a){var b=a.statusText;b||(b="Message_Save_Error"),c(b)}}])}();